"use strict";var frames={frames:[{filename:"2c.png",frame:{x:2,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"2d.png",frame:{x:2,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"2h.png",frame:{x:2,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"2s.png",frame:{x:2,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"3c.png",frame:{x:2,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"3d.png",frame:{x:151,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"3h.png",frame:{x:151,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"3s.png",frame:{x:151,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"4c.png",frame:{x:151,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"4d.png",frame:{x:151,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"4h.png",frame:{x:300,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"4s.png",frame:{x:300,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"5c.png",frame:{x:300,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"5d.png",frame:{x:300,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"5h.png",frame:{x:300,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"5s.png",frame:{x:449,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"6c.png",frame:{x:449,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"6d.png",frame:{x:449,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"6h.png",frame:{x:449,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"6s.png",frame:{x:449,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"7c.png",frame:{x:598,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"7d.png",frame:{x:598,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"7h.png",frame:{x:598,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"7s.png",frame:{x:598,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"8c.png",frame:{x:598,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"8d.png",frame:{x:747,y:2,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"8h.png",frame:{x:944,y:2,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"8s.png",frame:{x:1141,y:2,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"9c.png",frame:{x:1338,y:2,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"9d.png",frame:{x:747,y:151,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"9h.png",frame:{x:747,y:348,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"9s.png",frame:{x:747,y:545,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ac.png",frame:{x:747,y:742,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ad.png",frame:{x:896,y:151,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ah.png",frame:{x:1093,y:151,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"As.png",frame:{x:1290,y:151,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Jc.png",frame:{x:1487,y:151,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Jd.png",frame:{x:896,y:300,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Jh.png",frame:{x:1093,y:300,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Js.png",frame:{x:1290,y:300,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Kc.png",frame:{x:1487,y:348,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Kd.png",frame:{x:896,y:449,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Kh.png",frame:{x:1045,y:449,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ks.png",frame:{x:1242,y:449,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Qc.png",frame:{x:1439,y:545,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Qd.png",frame:{x:1045,y:598,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Qh.png",frame:{x:896,y:646,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Qs.png",frame:{x:1242,y:598,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Tc.png",frame:{x:1439,y:694,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Td.png",frame:{x:1045,y:747,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Th.png",frame:{x:1194,y:747,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ts.png",frame:{x:1391,y:843,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"card-back-red.png",frame:{x:896,y:843,w:127,h:178},rotated:!1,trimmed:!0,spriteSourceSize:{x:10,y:10,w:127,h:178},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}}],meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"cards.png",format:"RGBA8888",size:{w:1636,h:1023},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:ff870ecd225bb485c0c2e0f5e9967270:4752f5b85b9912a1acffd3a2eb532ca8:8056528aade6b91f4a89f8c9da7f2d4c$"}};function dealCards(){resetGame(),document.getElementById("deal-cards").classList.add("hide-button"),document.getElementById("check-cards").classList.remove("hide-button");var e=document.getElementsByClassName("backet"),r=handsPlayed<4?preconfigure.Moves[handsPlayed].Backet:setRandomCard(2);r.forEach(function(e){return PlayerCards.push(e)}),setCardImages(e,r,CardType.Flop)}function checkCards(){switch(document.getElementById("deal-cards").classList.add("hide-button"),document.getElementById("check-cards").classList.remove("hide-button"),actionToPerform){case CardType.Flop:var e=handsPlayed<4?preconfigure.Moves[handsPlayed].Flop:setRandomCard(3);setCardImages(document.getElementsByClassName("flop"),e,CardType.Turn);break;case CardType.Turn:var r=handsPlayed<4?preconfigure.Moves[handsPlayed].Turn:setRandomCard(1);setCardImages(document.getElementsByClassName("turn"),r,CardType.River);break;case CardType.River:var t=handsPlayed<4?preconfigure.Moves[handsPlayed].River:setRandomCard(1);setCardImages(document.getElementsByClassName("river"),t,CardType.Restart),document.getElementById("redeal-cards").classList.remove("hide-button"),document.getElementById("check-cards").classList.add("hide-button"),addRotation(),checkResult();break;default:console.log("Not implemented")}}function RedealCards(){for(var e=0;e<document.querySelectorAll(".card-position img").length;e++)document.querySelectorAll(".card-position img")[e].classList.add("initial-card"),document.querySelectorAll(".card-position img")[e].removeAttribute("style"),document.querySelectorAll(".card-position img")[e].classList.remove("rotate-card");document.getElementById("deal-cards").classList.remove("hide-button"),document.getElementById("redeal-cards").classList.add("hide-button"),deleteRotation(),actionToPerform=CardType.Backet,console.log(handsPlayed),setText(""),handsPlayed++}function checkResult(){var e=Play.concat(PlayerCards).mapToCardObjects(),r=!1,t=!1,i=checkStraightFlush(e);i||(r=checkFlush(e)),r||i||(t=checkStraight(e)),r||i||t||CheckPairs(e)}function checkStraightFlush(e){for(var i=0,a=!1,o=e.getUnique("Suit"),n=[],r=0;r<e.length;r++)14==e[r].Number&&n.push({Number:1,Suit:e[r].Suit,FullCard:e[r].FullCard});return n=n.concat(e),o.forEach(function(e,r){if(5<=n.map(function(e){return e.Suit==o[r].Suit}).filter(function(e){return 1==e}).length)for(var t=1;t<n.filter(function(e){return e.Suit==o[r].Suit}).length;t++){if(n.filter(function(e){return e.Suit==o[r].Suit})[t].Number-n.filter(function(e){return e.Suit==o[r].Suit})[t-1].Number==1){if(4==++i)return void(a=!0)}else i=0}}),a&&setText("Straight Flush"),a}function checkFlush(t){var i=!1,a=t.getUnique("Suit");return a.forEach(function(e,r){5==t.map(function(e){return e.Suit==a[r].Suit}).filter(function(e){return 1==e}).length&&(setText("Flush"),i=!0)}),i}function checkStraight(e){var r=!1;return e.checkdifference()&&(setText("Straight"),r=!0),r}function CheckPairs(t){var i=0,a=0,o=!1,n=t.getUnique("Number");n.forEach(function(e,r){4==t.map(function(e){return e.Number==n[r].Number}).filter(function(e){return 1==e}).length?(setText("Four Of A kind"),o=!0):3==t.map(function(e){return e.Number==n[r].Number}).filter(function(e){return 1==e}).length?a++:2==t.map(function(e){return e.Number==n[r].Number}).filter(function(e){return 1==e}).length&&i++}),o||setText(1==a&&1<=i?"Full house":1==a&&0==i?"Three of A kind":2<=i?"Two Pair":1==i?"One Pair":"High Card")}var CardType={Restart:0,Backet:1,Flop:2,Turn:3,River:4},cardSuits=["s","h","d","c"],cardNumbers=[{number:2,text:"2"},{number:3,text:"3"},{number:4,text:"4"},{number:5,text:"5"},{number:6,text:"6"},{number:7,text:"7"},{number:8,text:"8"},{number:9,text:"9"},{number:10,text:"T"},{number:11,text:"J"},{number:12,text:"Q"},{number:13,text:"K"},{number:14,text:"A"}],preconfigure={Moves:[{Backet:["Ts","Js"],Flop:["7h","2d","Qs"],Turn:["Ks"],River:["As"]},{Backet:["Ts","Js"],Flop:["Ks","2d","Qs"],Turn:["9s"],River:["7h"]},{Backet:["Ah","7d"],Flop:["As","Ad","7s"],Turn:["Ac"],River:["7h"]},{Backet:["Kh","7d"],Flop:["As","Ad","7s"],Turn:["Kc"],River:["7h"]}]},handsPlayed=0,Play=[],PlayerCards=[],usedCards=[],actionToPerform=CardType.Backet;function resetGame(){Play=[],usedCards=[],PlayerCards=[],setText("")}function setRandomCard(e){for(var r=[],t=0;t<e;t++){var i=cardSuits[Math.floor(Math.random()*cardSuits.length)].toString(),a=cardNumbers[Math.floor(Math.random()*cardNumbers.length)].text,o=a+i;if(0!=usedCards.length)for(;0<usedCards.map(function(e){return e==o}).filter(function(e){return 1==e}).length;)i=cardSuits[Math.floor(Math.random()*cardSuits.length)].toString(),a=cardNumbers[Math.floor(Math.random()*cardNumbers.length)].text,o=a+i;r.push(o),usedCards.push(o)}return r}function setCardImages(e,r,t){for(var i=0;i<r.length;i++){var a=frames.frames.filter(function(e){return 0==e.filename.indexOf(r[i])})[0];e[i].style.background="url('Images/cards.png') no-repeat -"+a.frame.x+"px -"+a.frame.y+"px",e[i].style.width=a.frame.w+"px",e[i].style.height=a.frame.h+"px",e[i].classList.remove("initial-card"),1==a.rotated&&(e[i].style.width=a.frame.h+"px",e[i].style.height=a.frame.w+"px",e[i].classList.add("rotate-card")),e[i].style.display="inline-block",(actionToPerform=t)!=CardType.Flop&&Play.push(r[i])}}function addRotation(){for(var e=0;e<document.querySelectorAll(".card-position img").length;e++)document.querySelectorAll(".card-position img")[e].classList.add("rotated-image");document.getElementById("redeal-cards").classList.add("rotated-image")}function deleteRotation(){for(var e=0;e<document.querySelectorAll(".card-position img").length;e++)document.querySelectorAll(".card-position img")[e].classList.remove("rotated-image");document.getElementById("redeal-cards").classList.remove("rotated-image")}function setText(e){document.getElementById("result").innerHTML=e}Array.prototype.mapToCardObjects=function(){return this.map(function(r,e){return{Number:cardNumbers.find(function(e){return e.text==r[0]}).number,Suit:r[1],FullCard:r}}).sort(function(e,r){return e.Suit>r.Suit?1:-1}).sort(function(e,r){return e.Number>r.Number?1:-1})},Array.prototype.getUnique=function(r){var t=this;return this.map(function(e){return e[r]}).map(function(e,r,t){return t.indexOf(e)===r&&r}).filter(function(e){return t[e]}).map(function(e){return t[e]})},Array.prototype.removeAfterSelection=function(r){var t=this;return this.map(function(e){return e[r]}).map(function(e,r,t){return t.indexOf(e)===r&&r}).filter(function(e){return t[e]}).map(function(e){return t[e]})},Array.prototype.checkdifference=function(){var e=0,r=[];null!=this.find(function(e){return 14==e.Number})&&r.push({Number:1,Suit:this.find(function(e){return 14==e.Number}).Suit,FullCard:this.find(function(e){return 14==e.Number}).FullCard}),r=r.concat(this);for(var t=1;t<r.length;t++){if(4==e)return e;r[t].Number-r[t-1].Number==1?e++:e=0}return 4<=e};