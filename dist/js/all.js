"use strict";var frames={frames:[{filename:"2c.png",frame:{x:2,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"2d.png",frame:{x:2,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"2h.png",frame:{x:2,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"2s.png",frame:{x:2,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"3c.png",frame:{x:2,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"3d.png",frame:{x:151,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"3h.png",frame:{x:151,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"3s.png",frame:{x:151,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"4c.png",frame:{x:151,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"4d.png",frame:{x:151,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"4h.png",frame:{x:300,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"4s.png",frame:{x:300,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"5c.png",frame:{x:300,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"5d.png",frame:{x:300,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"5h.png",frame:{x:300,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"5s.png",frame:{x:449,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"6c.png",frame:{x:449,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"6d.png",frame:{x:449,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"6h.png",frame:{x:449,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"6s.png",frame:{x:449,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"7c.png",frame:{x:598,y:2,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"7d.png",frame:{x:598,y:199,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"7h.png",frame:{x:598,y:396,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"7s.png",frame:{x:598,y:593,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"8c.png",frame:{x:598,y:790,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"8d.png",frame:{x:747,y:2,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"8h.png",frame:{x:944,y:2,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"8s.png",frame:{x:1141,y:2,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"9c.png",frame:{x:1338,y:2,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"9d.png",frame:{x:747,y:151,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"9h.png",frame:{x:747,y:348,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"9s.png",frame:{x:747,y:545,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ac.png",frame:{x:747,y:742,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ad.png",frame:{x:896,y:151,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ah.png",frame:{x:1093,y:151,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"As.png",frame:{x:1290,y:151,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Jc.png",frame:{x:1487,y:151,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Jd.png",frame:{x:896,y:300,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Jh.png",frame:{x:1093,y:300,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Js.png",frame:{x:1290,y:300,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Kc.png",frame:{x:1487,y:348,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Kd.png",frame:{x:896,y:449,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Kh.png",frame:{x:1045,y:449,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ks.png",frame:{x:1242,y:449,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Qc.png",frame:{x:1439,y:545,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Qd.png",frame:{x:1045,y:598,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Qh.png",frame:{x:896,y:646,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Qs.png",frame:{x:1242,y:598,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Tc.png",frame:{x:1439,y:694,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Td.png",frame:{x:1045,y:747,w:147,h:195},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Th.png",frame:{x:1194,y:747,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"Ts.png",frame:{x:1391,y:843,w:147,h:195},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:3,w:147,h:195},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}},{filename:"card-back-red.png",frame:{x:896,y:843,w:127,h:178},rotated:!1,trimmed:!0,spriteSourceSize:{x:10,y:10,w:127,h:178},sourceSize:{w:147,h:198},pivot:{x:.5,y:.5}}],meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"cards.png",format:"RGBA8888",size:{w:1636,h:1023},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:ff870ecd225bb485c0c2e0f5e9967270:4752f5b85b9912a1acffd3a2eb532ca8:8056528aade6b91f4a89f8c9da7f2d4c$"}};!function(){function i(){}i.prototype={checkResult:function(){var e=Play.concat(PlayerCards).mapToCardObjects(),t=!1,r=!1,i=this.checkStraightFlush(e);i||(t=this.checkFlush(e)),t||i||(r=this.checkStraight(e)),t||i||r||this.CheckPairs(e)},checkStraightFlush:function(e){for(var i=0,n=!1,a=e.getUnique("Suit"),o=[],t=0;t<e.length;t++)14==e[t].Number&&o.push({Number:1,Suit:e[t].Suit,FullCard:e[t].FullCard});return o=o.concat(e),a.forEach(function(e,t){if(5<=o.map(function(e){return e.Suit==a[t].Suit}).filter(function(e){return 1==e}).length)for(var r=1;r<o.filter(function(e){return e.Suit==a[t].Suit}).length;r++){if(o.filter(function(e){return e.Suit==a[t].Suit})[r].Number-o.filter(function(e){return e.Suit==a[t].Suit})[r-1].Number==1){if(4==++i)return void(n=!0)}else i=0}}),n&&design.setText("Straight Flush"),n},checkFlush:function(r){var i=!1,n=r.getUnique("Suit");return n.forEach(function(e,t){5==r.map(function(e){return e.Suit==n[t].Suit}).filter(function(e){return 1==e}).length&&(design.setText("Flush"),i=!0)}),i},checkStraight:function(e){var t=!1;return e.checkdifference()&&(design.setText("Straight"),t=!0),t},CheckPairs:function(r){var i=0,n=0,a=!1,o=r.getUnique("Number");o.forEach(function(e,t){4==r.map(function(e){return e.Number==o[t].Number}).filter(function(e){return 1==e}).length?(design.setText("Four Of A kind"),a=!0):3==r.map(function(e){return e.Number==o[t].Number}).filter(function(e){return 1==e}).length?n++:2==r.map(function(e){return e.Number==o[t].Number}).filter(function(e){return 1==e}).length&&i++}),a||(1==n&&1<=i?design.setText("Full house"):1==n&&0==i?design.setText("Three of A kind"):2<=i?design.setText("Two Pair"):1==i?design.setText("One Pair"):design.setText("High Card"))}};var r={_initAction:function(e,t,r){document.getElementById("deal-cards").addEventListener("click",function(){e()}),document.getElementById("check-cards").addEventListener("click",function(){t()}),document.getElementById("redeal-cards").addEventListener("click",function(){r()})},dealCards:function(){r.resetGame(),this.hideButton("deal-cards"),this.showButton("check-cards");var e=document.getElementsByClassName("backet"),t=handsPlayed<4?preconfigure.Moves[handsPlayed].Backet:this.setRandomCard(2);t.forEach(function(e){return PlayerCards.push(e)}),this.setCardImages(e,t,gameDefinitions.CardType.Flop)},setRandomCard:function(e){for(var t=[],r=0;r<e;r++){var i=gameDefinitions.cardSuits[Math.floor(Math.random()*gameDefinitions.cardSuits.length)].toString(),n=gameDefinitions.cardNumbers[Math.floor(Math.random()*gameDefinitions.cardNumbers.length)].text,a=n+i;if(0!=usedCards.length)for(;0<usedCards.map(function(e){return e==a}).filter(function(e){return 1==e}).length;)i=gameDefinitions.cardSuits[Math.floor(Math.random()*gameDefinitions.cardSuits.length)].toString(),n=gameDefinitions.cardNumbers[Math.floor(Math.random()*gameDefinitions.cardNumbers.length)].text,a=n+i;t.push(a),usedCards.push(a)}return t},setCardImages:function(e,t,r){for(var i=0;i<t.length;i++){var n=frames.frames.filter(function(e){return 0==e.filename.indexOf(t[i])})[0];e[i].style.background="url('Images/cards.png') no-repeat -"+n.frame.x+"px -"+n.frame.y+"px",e[i].style.width=n.frame.w+"px",e[i].style.height=n.frame.h+"px",e[i].classList.remove("initial-card"),1==n.rotated&&(e[i].style.width=n.frame.h+"px",e[i].style.height=n.frame.w+"px",e[i].classList.add("rotate-card")),e[i].style.display="inline-block",(actionToPerform=r)!=gameDefinitions.CardType.Flop&&Play.push(t[i])}},checkCards:function(){switch(this.hideButton("deal-cards"),this.showButton("check-cards"),actionToPerform){case gameDefinitions.CardType.Flop:var e=handsPlayed<4?preconfigure.Moves[handsPlayed].Flop:this.setRandomCard(3);this.setCardImages(document.getElementsByClassName("flop"),e,gameDefinitions.CardType.Turn);break;case gameDefinitions.CardType.Turn:var t=handsPlayed<4?preconfigure.Moves[handsPlayed].Turn:this.setRandomCard(1);this.setCardImages(document.getElementsByClassName("turn"),t,gameDefinitions.CardType.River);break;case gameDefinitions.CardType.River:var r=handsPlayed<4?preconfigure.Moves[handsPlayed].River:this.setRandomCard(1);this.setCardImages(document.getElementsByClassName("river"),r,gameDefinitions.CardType.Restart),this.hideButton("check-cards"),this.showButton("redeal-cards"),design.addRotation(),i.checkResult();break;default:console.log("Not implemented")}},hideButton:function(e){document.getElementById(e).classList.add("hide-button")},showButton:function(e){document.getElementById(e).classList.remove("hide-button")},RedealCards:function(){for(var e=0;e<document.querySelectorAll(".card-position img").length;e++)document.querySelectorAll(".card-position img")[e].classList.add("initial-card"),document.querySelectorAll(".card-position img")[e].removeAttribute("style"),document.querySelectorAll(".card-position img")[e].classList.remove("rotate-card");this.showButton("deal-cards"),this.hideButton("redeal-cards"),design.deleteRotation(),actionToPerform=gameDefinitions.CardType.Backet,console.log(handsPlayed),design.setText(""),handsPlayed++},resetGame:function(){Play=[],usedCards=[],PlayerCards=[],design.setText("")},_binds:function(){this._initAction(this.dealCards.bind(this),this.checkCards.bind(this),this.RedealCards.bind(this))}},i=new i;r._binds()}();var gameDefinitions={CardType:{Restart:0,Backet:1,Flop:2,Turn:3,River:4},cardSuits:["s","h","d","c"],cardNumbers:[{number:2,text:"2"},{number:3,text:"3"},{number:4,text:"4"},{number:5,text:"5"},{number:6,text:"6"},{number:7,text:"7"},{number:8,text:"8"},{number:9,text:"9"},{number:10,text:"T"},{number:11,text:"J"},{number:12,text:"Q"},{number:13,text:"K"},{number:14,text:"A"}]},preconfigure={Moves:[{Backet:["Ts","Js"],Flop:["7h","2d","Qs"],Turn:["Ks"],River:["As"]},{Backet:["Ts","Js"],Flop:["Ks","2d","Qs"],Turn:["9s"],River:["7h"]},{Backet:["Ah","7d"],Flop:["As","Ad","7s"],Turn:["Ac"],River:["7h"]},{Backet:["Kh","7d"],Flop:["As","Ad","7s"],Turn:["Kc"],River:["7h"]}]},handsPlayed=0,Play=[],PlayerCards=[],usedCards=[],actionToPerform=gameDefinitions.CardType.Backet;Array.prototype.mapToCardObjects=function(){return this.map(function(t,e){return{Number:gameDefinitions.cardNumbers.find(function(e){return e.text==t[0]}).number,Suit:t[1],FullCard:t}}).sort(function(e,t){return e.Suit>t.Suit?1:-1}).sort(function(e,t){return e.Number>t.Number?1:-1})},Array.prototype.getUnique=function(t){var r=this;return this.map(function(e){return e[t]}).map(function(e,t,r){return r.indexOf(e)===t&&t}).filter(function(e){return r[e]}).map(function(e){return r[e]})},Array.prototype.removeAfterSelection=function(t){var r=this;return this.map(function(e){return e[t]}).map(function(e,t,r){return r.indexOf(e)===t&&t}).filter(function(e){return r[e]}).map(function(e){return r[e]})},Array.prototype.checkdifference=function(){var e=0,t=[];null!=this.find(function(e){return 14==e.Number})&&t.push({Number:1,Suit:this.find(function(e){return 14==e.Number}).Suit,FullCard:this.find(function(e){return 14==e.Number}).FullCard}),t=t.concat(this);for(var r=1;r<t.length;r++){if(4==e)return e;t[r].Number-t[r-1].Number==1?e++:e=0}return 4<=e};var design={addRotation:function(){for(var e=0;e<document.querySelectorAll(".card-position img").length;e++)document.querySelectorAll(".card-position img")[e].classList.add("rotated-image");document.getElementById("redeal-cards").classList.add("rotated-image")},deleteRotation:function(){for(var e=0;e<document.querySelectorAll(".card-position img").length;e++)document.querySelectorAll(".card-position img")[e].classList.remove("rotated-image");document.getElementById("redeal-cards").classList.remove("rotated-image")},setText:function(e){document.getElementById("result").innerHTML=e}};